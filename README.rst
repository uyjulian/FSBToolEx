=========
FSBToolEx
=========

This project is a wrapper around FSBTool included with Unity with the functionality of `oggvorbis2fsb5 <https://github.com/uyjulian/oggvorbis2fsb5>`_.

How to use
==========

First, please download the
`macOS <https://github.com/uyjulian/fsbtoolex/releases/latest/download/fsbtoolex-macos.zip>`_,
`Ubuntu <https://github.com/uyjulian/fsbtoolex/releases/latest/download/fsbtoolex-ubuntu.zip>`_, or
`Win32 <https://github.com/uyjulian/fsbtoolex/releases/latest/download/fsbtoolex-win32.zip>`_
build.

Find ``FSBTool64.exe`` in your Unity installation, and rename it to ``FSBTool_original.exe``. Do not rename the original file to ``FSBTool64_original.exe``. For Win32, this will most likely be located in ``%PROGRAMFILES%/Unity/Hub/2018.4.20f1/Editor/Data/Tools/FSBTool/x64/FSBTool64.exe``.
Rename the new ``FSBToolEx.exe`` executable to ``FSBTool64.exe``, then place it in the same directory as ``FSBTool_original.exe``.

To add loop points to your audio file, you can use the ``.sli`` file which is compliant with `Kirikiri 2 Loop Tuner <https://krkrz.github.io/krkr2doc/kr2doc/contents/LoopTuner.html>`_ specification.

For example, if the original audio file is ``hoge.ogg``, create a UTF-8 encoded file ``hoge.ogg.sli`` in a text editor and 
set the following as the contents::

	#2.00
	# Sound Loop Information (utf-8)
	# Generated by WaveLoopManager.cpp
	Link { To=11111; From=22222; }

``11111`` is the beginning loop point and ``22222`` is the end loop point.

In order to apply the loop point changes, right click on the audio file in the asset browser and select "Reimport". If that does not work, close and reopen Unity, then try again.

If you receive the error "Unspecified error during import of AudioClip", try closing and reopening Unity. If that does not work, please try again with a 64kbps Ogg Vorbis file. If that does not work, please open an issue on this repository with the offending file.

How to build
============

This project can be built by using the Meson build system.  
For more information about the system, please visit the following location: https://mesonbuild.com/  

Meson toolchain files can be used to cross compile to different platforms, such as when using `mingw w64 <http://mingw-w64.org/doku.php>`_.  
For your convenience, Meson toolchain files are located here: https://github.com/krkrsdl2/meson_toolchains  

License
=======

This project is licensed under the MIT license. Please read the ``LICENSE`` file for more information.
